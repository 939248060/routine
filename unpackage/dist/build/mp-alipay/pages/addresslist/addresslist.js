(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/addresslist/addresslist"],{"19a8":function(t,n,e){"use strict";var a,o=function(){var t=this,n=t.$createElement;t._self._c},s=[];e.d(n,"b",function(){return o}),e.d(n,"c",function(){return s}),e.d(n,"a",function(){return a})},"1fdf":function(t,n,e){"use strict";e.r(n);var a=e("19a8"),o=e("2483");for(var s in o)"default"!==s&&function(t){e.d(n,t,function(){return o[t]})}(s);e("9548");var i,d=e("f0c5"),r=Object(d["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);n["default"]=r.exports},2483:function(t,n,e){"use strict";e.r(n);var a=e("936f"),o=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(n,t,function(){return a[t]})}(s);n["default"]=o.a},"936f":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;getApp();var a=e("716d"),o=e("99c0"),s=e("33b2"),i=function(){return e.e("components/loading/loading").then(e.bind(null,"5a64"))},d=function(){return e.e("components/dialog/dialog").then(e.bind(null,"4ddc"))},r={components:{loading:i,dialogs:d},data:function(){return{list:[],parent:"",delid:""}},onLoad:function(){var t=this;o.isNotEmpty(options.parent)&&(t.$data.parent=options.parent)},onReady:function(){},onShow:function(){var t=this;t.getList()},methods:{getList:function(){var t=this;t.$refs["loading"].showColour(),s.postToken("/address/user/findAll.do",{}).then(function(n){0===n.data.status?t.$data.list=JSON.parse(n.data.results):a.showToast(n.data.results,"none",5e3)}).catch(function(t){console.log(t),a.showToast(t,"none",5e3)}).finally(function(){t.$refs["loading"].hide()})},tapAction:function(n){var e=this,a=e.$data.parent;if(!o.isEmpty(a)){var s=n.currentTarget.dataset.idx,i=e.$data.list,d=getCurrentPages();if(t.setStorageSync("address",i[s]),d.length>1){var r=d[d.length-2];r.onShow(),t.navigateBack({delta:1})}}},tapSetDefault:function(n){var e=this,o=n.currentTarget.dataset.id;e.$refs["loading"].showTrans(),s.postToken("/address/user/setDefaultAddress.do",{id:o}).then(function(n){if(0===n.data.status){var s=e.$data.list;s.forEach(function(n){n.addressId==o?(t.setStorageSync("address",n),n.isDefault="1"):n.isDefault="0"}),e.$data.list=s,a.showToast(n.data.results,"succes",4e3)}else a.showToast(n.data.results,"none",5e3)}).catch(function(t){console.log(t),a.showToast(t,"none",5e3)}).finally(function(){e.$refs["loading"].hide()})},tapRemove:function(t){var n=this;n.$data.delid=t.currentTarget.dataset.delid,console.log(n.$refs),n.$refs["dialog"].showDialog()},_cancelEvent:function(){this.$refs["dialog"].hideDialog()},_confirmEvent:function(){var t=this,n=t.data.delid;t.$refs["dialog"].hideDialog(),t.$refs["loading"].showTrans(),s.postToken("/address/user/remove.do",{id:n}).then(function(e){if(0===e.data.status){for(var o=t.$data.list,s=0,i=o.length;s<i;s++)o[s].addressId==n&&o.splice(s,1);t.$data.list=o,a.showToast(e.data.results,"succes",4e3)}else a.showToast(e.data.results,"none",5e3)}).catch(function(t){console.log(t),a.showToast(t,"none",5e3)}).finally(function(){t.$refs["loading"].hide()})}}};n.default=r}).call(this,e("c11b")["default"])},9548:function(t,n,e){"use strict";var a=e("bba6"),o=e.n(a);o.a},"9dc3":function(t,n,e){"use strict";(function(t){e("4e23"),e("921b");a(e("66fd"));var n=a(e("1fdf"));function a(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("c11b")["createPage"])},bba6:function(t,n,e){}},[["9dc3","common/runtime","common/vendor"]]]);